<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üß™ –¢–µ—Å—Ç –ò–ò –¥–∏–∑–∞–π–Ω–∞ - –û—Ç–ª–∞–¥–∫–∞</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'gold-1': '#FFC107',
                        'gold-2': '#E8A317',
                        'dark-gray': '#2F2F2F',
                        'light-gray': '#E6E6E6',
                        'gray': '#A6A6A6'
                    }
                }
            }
        }
    </script>
</head>
<body class="p-4 bg-gray-100">
    <div class="max-w-4xl mx-auto bg-white p-6 rounded-lg shadow-lg">
        <h1 class="text-3xl font-bold mb-6 text-center">üß™ –¢–µ—Å—Ç –ò–ò –¥–∏–∑–∞–π–Ω–∞ - –û—Ç–ª–∞–¥–∫–∞</h1>
        
        <div class="mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg">
            <h3 class="font-bold text-blue-800 mb-2">üîÑ –ì–∏–±—Ä–∏–¥–Ω—ã–π —Ä–µ–∂–∏–º</h3>
            <p class="text-sm text-blue-700 mb-2">
                –°–∏—Å—Ç–µ–º–∞ —Å–Ω–∞—á–∞–ª–∞ –ø—ã—Ç–∞–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –º–æ–¥–µ–ª–∏ Hugging Face API, 
                –Ω–æ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö —Å–æ–∑–¥–∞–µ—Ç –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ PNG –¥–µ–º–æ-–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è.
            </p>
            <p class="text-xs text-blue-600">
                –¢–æ–∫–µ–Ω: <code class="bg-blue-100 px-1 rounded">hf_uJbDowG...Ifn</code> | 
                –ú–æ–¥–µ–ª—å: <code class="bg-blue-100 px-1 rounded">stable-diffusion-v1-5</code>
            </p>
        </div>
        
        <!-- –°—Ç–∞—Ç—É—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è -->
        <div id="connection-status" class="mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg">
            <h3 class="font-bold text-blue-800 mb-2">üîó –°—Ç–∞—Ç—É—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è</h3>
            <div id="server-status" class="text-sm">–ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–µ—Ä–≤–µ—Ä...</div>
        </div>
        
        <!-- –§–æ—Ä–º–∞ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è -->
        <form id="test-form" class="space-y-6 border-2 border-dashed border-gray-300 p-6 rounded-lg">
            <!-- –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è -->
            <div>
                <label class="block text-lg font-medium mb-2">üìé –ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ</label>
                <input type="file" id="photo-upload" accept="image/*" class="block w-full p-3 border border-gray-300 rounded-md">
                <p class="text-sm text-gray-500 mt-1">JPG, PNG –¥–æ 5MB</p>
                
                <!-- –ü—Ä–µ–≤—å—é –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è -->
                <div id="image-preview" class="mt-4 hidden">
                    <img id="preview-img" class="max-w-xs h-auto border rounded">
                    <p id="image-info" class="text-sm text-gray-600 mt-2"></p>
                </div>
            </div>
            
            <!-- –í—ã–±–æ—Ä —Å—Ç–∏–ª—è -->
            <div>
                <label class="block text-lg font-medium mb-2">üé® –°—Ç–∏–ª—å –∏–Ω—Ç–µ—Ä—å–µ—Ä–∞</label>
                <select id="style-select" class="w-full p-3 border border-gray-300 rounded-md">
                    <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Å—Ç–∏–ª—å</option>
                    <option value="minimalist">–ú–∏–Ω–∏–º–∞–ª–∏–∑–º</option>
                    <option value="scandinavian">–°–∫–∞–Ω–¥–∏–Ω–∞–≤—Å–∫–∏–π</option>
                    <option value="loft">–õ–æ—Ñ—Ç</option>
                    <option value="modern">–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π</option>
                    <option value="industrial">–ò–Ω–¥—É—Å—Ç—Ä–∏–∞–ª—å–Ω—ã–π</option>
                </select>
            </div>
            
            <!-- –û–ø–∏—Å–∞–Ω–∏–µ -->
            <div>
                <label class="block text-lg font-medium mb-2">üìù –û–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π</label>
                <textarea id="prompt-input" rows="3" class="w-full p-3 border border-gray-300 rounded-md" 
                          placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: —Å–≤–µ—Ç–ª–∞—è –≥–æ—Å—Ç–∏–Ω–∞—è —Å –±–æ–ª—å—à–∏–º –¥–∏–≤–∞–Ω–æ–º –∏ —è—Ä–∫–∏–º–∏ –ø–æ–¥—É—à–∫–∞–º–∏"></textarea>
            </div>
            
            <!-- –ö–Ω–æ–ø–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ -->
            <button type="button" id="submit-btn" class="w-full bg-gold-1 text-black p-3 rounded-md hover:bg-gold-2 transition-colors font-medium">
                üöÄ –°–æ–∑–¥–∞—Ç—å –¥–∏–∑–∞–π–Ω
            </button>
        </form>
        
        <!-- –ü—Ä–æ–≥—Ä–µ—Å—Å -->
        <div id="progress-container" class="mt-6 hidden">
            <div class="bg-gray-200 rounded-full h-4">
                <div id="progress-bar" class="bg-gold-1 h-4 rounded-full transition-all duration-300" style="width: 0%"></div>
            </div>
            <p id="progress-text" class="text-center mt-2 text-sm">–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º...</p>
        </div>
        
        <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç -->
        <div id="result" class="mt-8 hidden border-2 border-green-200 p-6 rounded-lg bg-green-50">
            <h2 class="text-2xl font-bold mb-4">‚ú® –†–µ–∑—É–ª—å—Ç–∞—Ç</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                    <h3 class="font-medium mb-3 text-center">–ò—Å—Ö–æ–¥–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ</h3>
                    <div class="border-2 border-gray-300 rounded-lg overflow-hidden">
                        <img id="original-img" class="w-full h-auto">
                    </div>
                </div>
                <div>
                    <h3 class="font-medium mb-3 text-center">–ù–æ–≤—ã–π –¥–∏–∑–∞–π–Ω</h3>
                    <div class="border-2 border-gold-1 rounded-lg overflow-hidden">
                        <img id="edited-img" class="w-full h-auto">
                    </div>
                </div>
            </div>
            <div id="result-info" class="mt-6 p-4 bg-white rounded-md border"></div>
            
            <!-- –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π -->
            <div class="mt-4 flex flex-wrap gap-3 justify-center">
                <a id="download-btn" href="#" download="ai-design-result.png" class="bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600">
                    üì• –°–∫–∞—á–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç
                </a>
                <button onclick="location.reload()" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">
                    üîÑ –ù–æ–≤—ã–π –¥–∏–∑–∞–π–Ω
                </button>
            </div>
        </div>
        
        <!-- –õ–æ–≥–∏ –æ—Ç–ª–∞–¥–∫–∏ -->
        <div id="logs" class="mt-8">
            <div class="flex justify-between items-center mb-3">
                <h3 class="font-bold text-lg">üìã –õ–æ–≥–∏ –æ—Ç–ª–∞–¥–∫–∏</h3>
                <div class="flex gap-2">
                    <button onclick="clearLogs()" class="text-sm bg-gray-200 px-3 py-1 rounded hover:bg-gray-300">
                        üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å
                    </button>
                    <button onclick="exportLogs()" class="text-sm bg-blue-200 px-3 py-1 rounded hover:bg-blue-300">
                        üíæ –≠–∫—Å–ø–æ—Ä—Ç
                    </button>
                </div>
            </div>
            <div class="bg-gray-900 text-green-400 rounded-md text-sm font-mono p-4 max-h-80 overflow-y-auto">
                <pre id="log-content" class="whitespace-pre-wrap"></pre>
            </div>
        </div>
    </div>

    <script>
        let logContent = '';
        
        function addLog(message, type = 'info') {
            const timestamp = new Date().toLocaleTimeString();
            const emoji = type === 'error' ? '‚ùå' : type === 'success' ? '‚úÖ' : type === 'warning' ? '‚ö†Ô∏è' : '‚ÑπÔ∏è';
            logContent += `${timestamp} ${emoji} ${message}\n`;
            document.getElementById('log-content').textContent = logContent;
            
            // –ê–≤—Ç–æ—Å–∫—Ä–æ–ª–ª –≤–Ω–∏–∑
            const logElement = document.getElementById('log-content');
            logElement.scrollTop = logElement.scrollHeight;
            console.log(`[${type.toUpperCase()}] ${message}`);
        }
        
        function clearLogs() {
            logContent = '';
            document.getElementById('log-content').textContent = '';
            addLog('–õ–æ–≥–∏ –æ—á–∏—â–µ–Ω—ã');
        }
        
        function exportLogs() {
            const blob = new Blob([logContent], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `ai-design-logs-${new Date().toISOString().slice(0,19).replace(/:/g,'-')}.txt`;
            a.click();
            URL.revokeObjectURL(url);
            addLog('–õ–æ–≥–∏ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã');
        }
        
        function updateProgress(percent, text) {
            const progressContainer = document.getElementById('progress-container');
            const progressBar = document.getElementById('progress-bar');
            const progressText = document.getElementById('progress-text');
            
            if (percent === 0) {
                progressContainer.classList.add('hidden');
            } else {
                progressContainer.classList.remove('hidden');
                progressBar.style.width = percent + '%';
                progressText.textContent = text;
            }
        }
        
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä—É
        async function checkServerConnection() {
            try {
                addLog('–ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É...');
                const response = await fetch('/api/health');
                const data = await response.json();
                
                if (data.success) {
                    document.getElementById('server-status').innerHTML = `
                        <span class="text-green-600">‚úÖ –°–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç</span><br>
                        <small>–í–µ—Ä—Å–∏—è: ${data.version}, –í—Ä–µ–º—è: ${new Date(data.timestamp).toLocaleString()}</small>
                    `;
                    addLog('–°–µ—Ä–≤–µ—Ä –¥–æ—Å—Ç—É–ø–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç', 'success');
                    return true;
                } else {
                    throw new Error('–ù–µ–≤–µ—Ä–Ω—ã–π –æ—Ç–≤–µ—Ç —Å–µ—Ä–≤–µ—Ä–∞');
                }
            } catch (error) {
                document.getElementById('server-status').innerHTML = `
                    <span class="text-red-600">‚ùå –°–µ—Ä–≤–µ—Ä –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω: ${error.message}</span>
                `;
                addLog(`–°–µ—Ä–≤–µ—Ä –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω: ${error.message}`, 'error');
                return false;
            }
        }
        
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—ã–±–æ—Ä–∞ —Ñ–∞–π–ª–∞
        document.getElementById('photo-upload').onchange = function(e) {
            const file = e.target.files[0];
            if (file) {
                addLog(`–§–∞–π–ª –≤—ã–±—Ä–∞–Ω: ${file.name} (${Math.round(file.size/1024)} KB)`);
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø—Ä–µ–≤—å—é
                const reader = new FileReader();
                reader.onload = function(e) {
                    const preview = document.getElementById('image-preview');
                    const img = document.getElementById('preview-img');
                    const info = document.getElementById('image-info');
                    
                    img.src = e.target.result;
                    info.textContent = `${file.name} ‚Ä¢ ${Math.round(file.size/1024)} KB ‚Ä¢ ${file.type}`;
                    preview.classList.remove('hidden');
                    
                    addLog('–ü—Ä–µ–≤—å—é –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∑–∞–≥—Ä—É–∂–µ–Ω–æ', 'success');
                };
                reader.readAsDataURL(file);
            }
        };
        
        // –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
        document.getElementById('submit-btn').onclick = async function() {
            addLog('üöÄ –ù–ê–ß–ê–õ–û –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø –ò–ò –î–ò–ó–ê–ô–ù–ê', 'info');
            
            const photoUpload = document.getElementById('photo-upload');
            const styleSelect = document.getElementById('style-select');
            const promptInput = document.getElementById('prompt-input');
            const submitBtn = document.getElementById('submit-btn');
            
            // –°–∫—Ä—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç –æ—Ç –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ —Ç–µ—Å—Ç–∞
            document.getElementById('result').classList.add('hidden');
            
            // –í–∞–ª–∏–¥–∞—Ü–∏—è
            if (!photoUpload.files[0]) {
                addLog('–§–∞–π–ª –Ω–µ –≤—ã–±—Ä–∞–Ω', 'error');
                alert('–í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è');
                return;
            }
            
            if (!styleSelect.value) {
                addLog('–°—Ç–∏–ª—å –Ω–µ –≤—ã–±—Ä–∞–Ω', 'error');
                alert('–í—ã–±–µ—Ä–∏—Ç–µ —Å—Ç–∏–ª—å –∏–Ω—Ç–µ—Ä—å–µ—Ä–∞');
                return;
            }
            
            if (!promptInput.value.trim()) {
                addLog('–û–ø–∏—Å–∞–Ω–∏–µ –ø—É—Å—Ç–æ–µ', 'error');
                alert('–í–≤–µ–¥–∏—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π');
                return;
            }
            
            addLog('–í–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–æ—à–ª–∞ —É—Å–ø–µ—à–Ω–æ', 'success');
            
            // –ë–ª–æ–∫–∏—Ä—É–µ–º —Ñ–æ—Ä–º—É
            submitBtn.disabled = true;
            submitBtn.textContent = '‚è≥ –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º...';
            updateProgress(10, '–ü–æ–¥–≥–æ—Ç–∞–≤–ª–∏–≤–∞–µ–º –¥–∞–Ω–Ω—ã–µ...');
            
            try {
                // –ü–æ–¥–≥–æ—Ç–∞–≤–ª–∏–≤–∞–µ–º –¥–∞–Ω–Ω—ã–µ
                const formData = new FormData();
                formData.append('image', photoUpload.files[0]);
                formData.append('style', styleSelect.value);
                formData.append('prompt', promptInput.value);
                
                addLog(`–î–∞–Ω–Ω—ã–µ –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω—ã:`, 'info');
                addLog(`  ‚Ä¢ –§–∞–π–ª: ${photoUpload.files[0].name}`, 'info');
                addLog(`  ‚Ä¢ –†–∞–∑–º–µ—Ä: ${Math.round(photoUpload.files[0].size/1024)} KB`, 'info');
                addLog(`  ‚Ä¢ –¢–∏–ø: ${photoUpload.files[0].type}`, 'info');
                addLog(`  ‚Ä¢ –°—Ç–∏–ª—å: ${styleSelect.value}`, 'info');
                addLog(`  ‚Ä¢ –ü—Ä–æ–º—Ç: "${promptInput.value}"`, 'info');
                
                updateProgress(25, '–û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞–ø—Ä–æ—Å –∫ –ò–ò...');
                
                // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞–ø—Ä–æ—Å
                addLog('–û—Ç–ø—Ä–∞–≤–ª—è–µ–º POST –∑–∞–ø—Ä–æ—Å –∫ /api/ai-design-huggingface');
                const response = await fetch('/api/ai-design-huggingface', {
                    method: 'POST',
                    body: formData
                });
                
                addLog(`–ü–æ–ª—É—á–µ–Ω –æ—Ç–≤–µ—Ç: ${response.status} ${response.statusText}`);
                updateProgress(50, '–ü–æ–ª—É—á–∞–µ–º –æ—Ç–≤–µ—Ç –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞...');
                
                if (!response.ok) {
                    const errorText = await response.text();
                    addLog(`HTTP –æ—à–∏–±–∫–∞ ${response.status}: ${errorText}`, 'error');
                    throw new Error(`HTTP ${response.status}: ${errorText}`);
                }
                
                updateProgress(75, '–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç...');
                const result = await response.json();
                addLog('JSON –æ—Ç–≤–µ—Ç –ø–æ–ª—É—á–µ–Ω –∏ —Ä–∞—Å–ø–∞—Ä—Å–µ–Ω', 'success');
                
                if (result.success) {
                    addLog('üéâ –£–°–ü–ï–•! –†–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–ª—É—á–µ–Ω', 'success');
                    updateProgress(100, '–ì–æ—Ç–æ–≤–æ!');
                    
                    // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
                    document.getElementById('original-img').src = result.originalImage;
                    document.getElementById('edited-img').src = result.editedImage;
                    document.getElementById('download-btn').href = result.editedImage;
                    
                    // –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ
                    const infoDiv = document.getElementById('result-info');
                    infoDiv.innerHTML = `
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
                            <div><strong>–°—Ç–∏–ª—å:</strong> ${result.style}</div>
                            <div><strong>–í—Ä–µ–º—è:</strong> ${new Date(result.timestamp).toLocaleString()}</div>
                            <div class="col-span-full"><strong>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ–º—Ç:</strong> ${result.enhancedPrompt}</div>
                            ${result.analysis ? `<div class="col-span-full"><strong>–ê–Ω–∞–ª–∏–∑ –ò–ò:</strong> ${result.analysis}</div>` : ''}
                        </div>
                    `;
                    
                    document.getElementById('result').classList.remove('hidden');
                    addLog('–†–µ–∑—É–ª—å—Ç–∞—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ', 'success');
                    
                    // –°–∫—Ä–æ–ª–ª–∏–º –∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É
                    setTimeout(() => {
                        document.getElementById('result').scrollIntoView({ behavior: 'smooth' });
                        updateProgress(0, '');
                    }, 1000);
                    
                } else {
                    addLog(`–û—à–∏–±–∫–∞ API: ${result.error}`, 'error');
                    if (result.details) {
                        addLog(`–î–µ—Ç–∞–ª–∏: ${result.details}`, 'error');
                    }
                    updateProgress(0, '');
                    alert(`–û—à–∏–±–∫–∞: ${result.error}`);
                }
                
            } catch (error) {
                addLog(`–ò—Å–∫–ª—é—á–µ–Ω–∏–µ: ${error.message}`, 'error');
                updateProgress(0, '');
                alert(`–û—à–∏–±–∫–∞: ${error.message}`);
            }
            
            // –†–∞–∑–±–ª–æ–∫–∏—Ä—É–µ–º —Ñ–æ—Ä–º—É
            submitBtn.disabled = false;
            submitBtn.textContent = 'üöÄ –°–æ–∑–¥–∞—Ç—å –¥–∏–∑–∞–π–Ω';
            
            addLog('üèÅ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï –ó–ê–í–ï–†–®–ï–ù–û');
        };
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        document.addEventListener('DOMContentLoaded', async function() {
            addLog('–°—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–∞, –Ω–∞—á–∏–Ω–∞–µ–º –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é');
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–µ—Ä–≤–µ—Ä
            const serverOk = await checkServerConnection();
            
            if (serverOk) {
                addLog('–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ', 'success');
            } else {
                addLog('–ü—Ä–æ–±–ª–µ–º—ã —Å —Å–µ—Ä–≤–µ—Ä–æ–º, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ', 'warning');
            }
        });
    </script>
</body>
</html>