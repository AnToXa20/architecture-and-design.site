# Портфолио Архитектурного Бюро

## Обзор
Динамическое портфолио с изображениями, загруженными из базы данных MySQL через Node.js API.

## Возможности
✅ **Динамическая загрузка проектов** из базы данных  
✅ **Фильтрация по типам**: Все проекты, Жилые интерьеры, Загородные дома, Офисные интерьеры  
✅ **Счетчики проектов** в кнопках фильтров  
✅ **Адаптивный дизайн** для всех устройств  
✅ **Плавные анимации** появления карточек при фильтрации  
✅ **Индикаторы загрузки** и обработка ошибок  
✅ **Автоматическая фильтрация** - исключены первые 10 изображений  

## Структура данных
**База данных**: `architecture_bureau`  
**Таблица**: `images`

### Поля таблицы:
- `id` - Уникальный идентификатор
- `url` - URL изображения с Яндекс Диска  
- `alt_text` - Название файла
- `title` - Отображаемое название проекта
- `entity_type` - Тип проекта (apartments/houses/offices)
- `entity_id` - ID типа (1=квартиры, 2=дома, 3=офисы)
- `direct_url` - Прямая ссылка на изображение

### Текущее состояние БД:
- **Всего проектов в БД**: 35
- **Отображается на сайте**: 25 (исключены ID 1-10)
- **Жилые интерьеры**: ~12 проектов (после фильтрации)
- **Загородные дома**: ~8 проектов (после фильтрации)  
- **Офисные интерьеры**: ~4 проекта (после фильтрации)

## Запуск проекта

### Способ 1: Автоматический запуск
```bash
start_portfolio.bat
```

### Способ 2: Ручной запуск
```bash
# 1. Запуск API сервера
node portfolio_api.js

# 2. Открытие в браузере
http://localhost:3001/portfolio.html
```

## API Endpoints

### GET /api/portfolio
Возвращает все проекты, сгруппированные по типам.

**Ответ:**
```json
{
  "success": true,
  "data": {
    "all": [...],
    "apartments": [...],
    "houses": [...], 
    "offices": [...]
  },
  "total": 35,
  "counts": {
    "all": 35,
    "apartments": 13,
    "houses": 8,
    "offices": 4
  }
}
```

**Примечание**: Frontend автоматически фильтрует изображения с ID 1-10.

### GET /api/portfolio/:id
Возвращает конкретный проект по ID.

## Файлы проекта

### Основные:
- `portfolio.html` - Главная страница портфолио
- `portfolio_api.js` - Node.js API сервер
- `start_portfolio.bat` - Скрипт автозапуска

### Вспомогательные:
- `test_api.js` - Тест API
- `get_all_urls.js` - Получение всех URL из БД
- `add_from_portfolio2.js` - Скрипт добавления изображений

## Технические особенности

### Frontend:
- **HTML5** + **CSS3** + **Vanilla JavaScript**
- **Tailwind CSS** для стилизации
- **Fetch API** для работы с сервером
- **Responsive Design** с адаптивной сеткой
- **Плавные анимации** появления карточек

### Backend:
- **Node.js** + **Express.js**
- **MySQL2** для работы с БД
- **CORS** для кроссдоменных запросов
- **RESTful API** архитектура

### База данных:
- **MySQL** база данных
- **25 изображений портфолио** с Яндекс Диска
- **Классификация по 3 типам** проектов
- **Автоматическая фильтрация** первых 10 записей

## Фильтрация

Фильтры работают динамически с плавной анимацией:
- **"Все проекты"** - показывает все доступные изображения (ID > 10)
- **"Жилые интерьеры"** - apartments
- **"Загородные дома"** - houses  
- **"Офисные интерьеры"** - offices

### Анимации фильтрации:
- ✅ Плавное исчезновение текущих карточек (0.6s)
- ✅ Поочередное появление новых карточек (0.4s + задержка)
- ✅ Поступательное движение снизу вверх
- ✅ Отсутствие анимации увеличения при hover

## Дизайн карточек

### Убраны элементы:
- ❌ Анимация увеличения изображения при hover
- ❌ Подпись типа проекта мелким шрифтом

### Оставлены элементы:
- ✅ Название проекта при hover
- ✅ Цветная нижняя граница по типам проектов
- ✅ Плавное затемнение при hover
- ✅ Индикатор загрузки изображения

## Обработка ошибок

- ✅ Индикатор загрузки при запросе к API
- ✅ Сообщение об ошибке при проблемах с сервером
- ✅ Fallback изображение при ошибке загрузки
- ✅ Сообщение о пустых категориях
- ✅ Автоматическая фильтрация недопустимых изображений

## Адреса

- **Портфолио**: http://localhost:3001/portfolio.html
- **API**: http://localhost:3001/api/portfolio
- **Сервер**: порт 3001

---

**Статус**: ✅ Готово и работает  
**Последнее обновление**: Добавлена фильтрация ID 1-10, улучшены анимации, убраны лишние элементы дизайна  
**Автор**: AI Assistant 